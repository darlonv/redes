"use strict";(self.webpackChunkalgoritmos=self.webpackChunkalgoritmos||[]).push([[9234],{3905:(e,a,t)=>{t.d(a,{Zo:()=>m,kt:()=>k});var o=t(7294);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,o,n=function(e,a){if(null==e)return{};var t,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var s=o.createContext({}),p=function(e){var a=o.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},m=function(e){var a=p(e.components);return o.createElement(s.Provider,{value:a},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},u=o.forwardRef((function(e,a){var t=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),d=p(t),u=n,k=d["".concat(s,".").concat(u)]||d[u]||c[u]||r;return t?o.createElement(k,i(i({ref:a},m),{},{components:t})):o.createElement(k,i({ref:a},m))}));function k(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var r=t.length,i=new Array(r);i[0]=u;var l={};for(var s in a)hasOwnProperty.call(a,s)&&(l[s]=a[s]);l.originalType=e,l[d]="string"==typeof e?e:n,i[1]=l;for(var p=2;p<r;p++)i[p]=t[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},2336:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var o=t(7462),n=(t(7294),t(3905));const r={sidebar_position:2},i="TCP",l={unversionedId:"Protocolos/Transporte/TCP",id:"Protocolos/Transporte/TCP",title:"TCP",description:"O TCP (Transmission Control Protocol) \xe9 um protocolo orientado a conex\xe3o. Seu funcionamento opera em tr\xeas fases:",source:"@site/docs/03-Protocolos/02-Transporte/02-TCP.md",sourceDirName:"03-Protocolos/02-Transporte",slug:"/Protocolos/Transporte/TCP",permalink:"/redes/docs/Protocolos/Transporte/TCP",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/03-Protocolos/02-Transporte/02-TCP.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Camada de transporte",permalink:"/redes/docs/Protocolos/Transporte/Camada"},next:{title:"UDP",permalink:"/redes/docs/Protocolos/Transporte/UDP"}},s={},p=[{value:"Estrutura do segmento TCP",id:"estrutura-do-segmento-tcp",level:2},{value:"Campos",id:"campos",level:3},{value:"Flags",id:"flags",level:3},{value:"Conex\xe3o",id:"conex\xe3o",level:2},{value:"In\xedcio da conex\xe3o",id:"in\xedcio-da-conex\xe3o",level:3},{value:"Transfer\xeancia dos dados",id:"transfer\xeancia-dos-dados",level:3},{value:"T\xe9rmino da conex\xe3o",id:"t\xe9rmino-da-conex\xe3o",level:3},{value:"Exemplo",id:"exemplo",level:3},{value:"Observa\xe7\xe3o",id:"observa\xe7\xe3o",level:3},{value:"Exemplo",id:"exemplo-1",level:4},{value:"Outras refer\xeancias",id:"outras-refer\xeancias",level:2}],m={toc:p},d="wrapper";function c(e){let{components:a,...t}=e;return(0,n.kt)(d,(0,o.Z)({},m,t,{components:a,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"tcp"},"TCP"),(0,n.kt)("p",null,"O TCP (",(0,n.kt)("em",{parentName:"p"},"Transmission Control Protocol"),") \xe9 um protocolo ",(0,n.kt)("strong",{parentName:"p"},"orientado a conex\xe3o"),". Seu funcionamento opera em tr\xeas fases:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Estabelecimento da conex\xe3o"),(0,n.kt)("li",{parentName:"ul"},"Transfer\xeancia dos dados"),(0,n.kt)("li",{parentName:"ul"},"T\xe9rmino da conex\xe3o.")),(0,n.kt)("p",null,"O TCP \xe9 um protocolo ",(0,n.kt)("em",{parentName:"p"},"Full-duplex"),", ou seja, dados podem ser enviados e recebidos na mesma conex\xe3o."),(0,n.kt)("h2",{id:"estrutura-do-segmento-tcp"},"Estrutura do segmento TCP"),(0,n.kt)("p",null,"O cabe\xe7alho do pacote TCP possui o seguinte formato:"),(0,n.kt)("p",null,"Figura: Cabe\xe7alho do pacote TCP.\n",(0,n.kt)("img",{parentName:"p",src:"https://upload.wikimedia.org/wikipedia/commons/4/4e/TCP_Protocol_Diagram.png",alt:null}),(0,n.kt)("br",{parentName:"p"}),"\n","Fonte: ",(0,n.kt)("a",{parentName:"p",href:"https://commons.wikimedia.org/wiki/File:TCP_Protocol_Diagram.png"},"Wikimedia Commons"),"  "),(0,n.kt)("h3",{id:"campos"},"Campos"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Porta de origem"),(0,n.kt)("li",{parentName:"ul"},"Porta de destino"),(0,n.kt)("li",{parentName:"ul"},"N\xfamero de sequ\xeancia (seq)"),(0,n.kt)("li",{parentName:"ul"},"N\xfamero de reconhecimento (ack)"),(0,n.kt)("li",{parentName:"ul"},"Tamanho do cabe\xe7alho"),(0,n.kt)("li",{parentName:"ul"},"Reservado"),(0,n.kt)("li",{parentName:"ul"},"Flags"),(0,n.kt)("li",{parentName:"ul"},"Tamanho da janela"),(0,n.kt)("li",{parentName:"ul"},"Checksum"),(0,n.kt)("li",{parentName:"ul"},"Ponteiro do dado urgente"),(0,n.kt)("li",{parentName:"ul"},"Op\xe7\xf5es"),(0,n.kt)("li",{parentName:"ul"},"Dados")),(0,n.kt)("h3",{id:"flags"},"Flags"),(0,n.kt)("p",null,"As ",(0,n.kt)("em",{parentName:"p"},"flags")," do TCP s\xe3o:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"URG: ",(0,n.kt)("em",{parentName:"li"},"urgent"),". Indica que o processo que solicitou o envio do marcou dados como urgente"),(0,n.kt)("li",{parentName:"ul"},"ACK: ",(0,n.kt)("em",{parentName:"li"},"acknowledgement"),", ou reconhecimento"),(0,n.kt)("li",{parentName:"ul"},"PSH: ",(0,n.kt)("em",{parentName:"li"},"push"),". Destinat\xe1rio deve repassar dados para camada superior"),(0,n.kt)("li",{parentName:"ul"},"RST: ",(0,n.kt)("em",{parentName:"li"},"reset"),". Utilizado para restabelecer e encerrar a conex\xe3o"),(0,n.kt)("li",{parentName:"ul"},"SYN: Utilizado para estabelecer e encerrar a conex\xe3o"),(0,n.kt)("li",{parentName:"ul"},"FIN: ",(0,n.kt)("em",{parentName:"li"},"finish"),". Utilizado para encerrar a conex\xe3o")),(0,n.kt)("p",null,"Na pr\xe1tica, as ",(0,n.kt)("em",{parentName:"p"},"flags")," URG, PSH e o campo ",(0,n.kt)("em",{parentName:"p"},"Urgent pointer")," n\xe3o s\xe3o utilizados (KUROSE 2013)."),(0,n.kt)("h2",{id:"conex\xe3o"},"Conex\xe3o"),(0,n.kt)("p",null,"o TCP \xe9 um procotolo ",(0,n.kt)("strong",{parentName:"p"},"orientado a conex\xe3o"),", ou seja, possui estados de in\xedcio, transfer\xeancia e finaliza\xe7\xe3o. As informa\xe7\xf5es sobre os estados residem apenas nos sistemas finais."),(0,n.kt)("p",null,"Dado que o protocolo TCP n\xe3o \xe9 executado em elementos intermedi\xe1rios (",(0,n.kt)("em",{parentName:"p"},"hubs"),", ",(0,n.kt)("em",{parentName:"p"},"switches"),", roteadores), as vari\xe1veis que controlam o estado da conex\xe3o est\xe3o centralizadas nos sistemas finais."),(0,n.kt)("h3",{id:"in\xedcio-da-conex\xe3o"},"In\xedcio da conex\xe3o"),(0,n.kt)("p",null,"O aperto de m\xe3os em tr\xeas vias, ou ",(0,n.kt)("em",{parentName:"p"},"three-way handshake")," \xe9 a maneira em que o protocolo TCP inicia uma conex\xe3o. No diagrama ",(0,n.kt)("em",{parentName:"p"},"x")," corresponde ao n\xfamero de sequ\xeancia do cliente e ",(0,n.kt)("em",{parentName:"p"},"y")," ao n\xfamero de sequ\xeancia do servidor."),(0,n.kt)("mermaid",{value:"sequenceDiagram\n    Cliente  ->> Servidor: syn seq=x\n    Servidor ->> Cliente:  syn ack=x+1 seq=y\n    Cliente  ->> Servidor: ack=y+1 seq=x+1\n    rect rgb(200,200,200)\n    Cliente  --\x3e> Servidor:  Dados \n    Cliente  --\x3e> Servidor:  \n    Cliente  --\x3e> Servidor:  \n    end"}),(0,n.kt)("p",null,"A conex\xe3o \xe9 iniciada com o cliente enviando um pacote com a ",(0,n.kt)("em",{parentName:"p"},"flag")," SYN ativa. Espera-se que o servidor aceite a conex\xe3o e retorne um pacote com as ",(0,n.kt)("em",{parentName:"p"},"flags")," SYN e ACK setadas."),(0,n.kt)("h3",{id:"transfer\xeancia-dos-dados"},"Transfer\xeancia dos dados"),(0,n.kt)("p",null,"Cada segmento enviado pelo cliente ao servidor possui um tamanho e um n\xfamero de sequ\xeancia. O servidor confirma o recebimento (ACK) de cada segmento, e avisa o tamanho de sua janela."),(0,n.kt)("mermaid",{value:"%%{init: {'theme': 'neutral' } }%%\nsequenceDiagram\n    participant Cliente\n    participant Servidor\n    note over Servidor: Win = 1024\n    Servidor ->>  Cliente : ack\n    note over Cliente: Janela do<br>Servidor: 1024\n    Cliente  ->>  Servidor: 1: 384 bytes\n    note over Servidor: Win = 640\n    Cliente  ->>  Servidor: 2: 402 bytes\n    note over Servidor: Win = 238\n    Cliente  ->> Servidor: 3: 204 bytes\n    note over Cliente: aguarda ack\n    note over Servidor: Win = 34\n    note over Servidor: Processa pacote 1\n    note over Servidor: Win = 418\n    Servidor ->> Cliente : ack: 1\n    note over Cliente: Janela do<br>Servidor: 418\n    Cliente  ->>  Servidor: 1: 380 bytes \n    note over Cliente: aguarda ack"}),(0,n.kt)("p",null,"Uma das caracter\xedsticas do TCP consiste em poder enviar e receber diversos segmentos simultaneamente. Por\xe9m, isto pode ser aplicado a apenas a parte da sequ\xeancia de segmentos, e a este grupo de segmentos denomina-se janela. \xe0 medida que os segmentos v\xe3o sendo recebidos e confirmados pelo destinat\xe1rio, a janela deixa de incluir os primeiros segmentos confirmados e passa a incluir os segmentos seguintes. Esta t\xe9cnica \xe9 chamada de ",(0,n.kt)("em",{parentName:"p"},"janela deslizante"),"."),(0,n.kt)("p",null,"O v\xeddeo do link possui uma anima\xe7\xe3o que demonstra a janela deslizante. Perceba que \xe0 medida que os segmentos s\xe3o confirmados, o grupo de segmentos abordados (janela) move-se para a direita e ",(0,n.kt)("em",{parentName:"p"},"desliza")," para abranger os pr\xf3ximos segmentos."),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=zY3Sxvj8kZA"},"TCP sliding window animation"),"  "),(0,n.kt)("p",null,"Adicionalmente, pode-se utilizar o simulador dispon\xedvel no link abaixo."),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://www.ccs-labs.org/teaching/rn/animations/gbn_sr/"},"KESSLER 2012")),(0,n.kt)("h3",{id:"t\xe9rmino-da-conex\xe3o"},"T\xe9rmino da conex\xe3o"),(0,n.kt)("mermaid",{value:"sequenceDiagram\n    %%{init: {'theme': 'neutral' } }%%\n    participant Cliente\n    participant Servidor\n    note over Cliente,Servidor: Conex\xe3o estabelecida\n    note over Cliente: encerramento ativo\n    Cliente  ->>  Servidor: fin\n    Servidor ->>  Cliente: ack\n    note over Servidor: encerramento passivo\n    Servidor ->>  Cliente: fin\n    Cliente  ->>  Servidor: ack\n    note over Cliente,Servidor: Conex\xe3o finalizada\n"}),(0,n.kt)("h3",{id:"exemplo"},"Exemplo"),(0,n.kt)("p",null,"Captura de pacotes de uma conex\xe3o TCP."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Server:",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"}," nc -l 10100\n")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Sa\xedda:"))),(0,n.kt)("li",{parentName:"ul"},"Client:",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"}," echo 'Aula de redes de computadores' > msg.txt\n nc -N localhost 10100 < msg.txt\n")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Sa\xedda:"))),(0,n.kt)("li",{parentName:"ul"},"Sniffer:",(0,n.kt)("br",{parentName:"li"}),"Observa a interface de ",(0,n.kt)("em",{parentName:"li"},"loopback")," na porta 10100",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"tshark -i lo host localhost and port 10100\n")),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Sa\xedda:")))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"1[...] TCP 74 43682\u2192 10100 [SYN] Seq=0 Win=65495 Len=0 MSS=65495 SACK_PERM=1 TSval=3650491938 TSecr=0 WS=128\n2[...] TCP 74 10100\u2192 43682 [SYN, ACK] Seq=0 Ack=1 Win=65483 Len=0 MSS=65495 SACK_PERM=1 TSval=3650491938 TSecr=3650491938 WS=128    \n3[...] TCP 66 43682\u2192 10100 [ACK] Seq=1 Ack=1 Win=65536 Len=0 TSval=3650491938TSecr=3650491938    \n4[...] TCP 96 43682\u2192 10100 [PSH, ACK] Seq=1 Ack=1 Win=65536 Len=30 TSval=3650491938 TSecr=3650491938\n5[...] TCP 66 10100\u2192 43682 [ACK] Seq=1 Ack=31 Win=65536 Len=0 TSval=3650491938 TSecr=3650491938\n6[...] TCP 66 43682\u2192 10100 [FIN, ACK] Seq=31 Ack=1 Win=65536 Len=0 TSval=3650491938 TSecr=3650491938\n7[...] TCP 66 10100\u2192 43682 [FIN, ACK] Seq=1 Ack=32 Win=65536 Len=0 TSval=3650491938 TSecr=3650491938\n8[...] TCP 66 43682\u2192 10100 [ACK] Seq=32 Ack=2 Win=65536 Len=0 TSval=3650491938 TSecr=3650491938\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"- Observe:\n    - `[...] ` indica texto removido, para facilitar a visualiza\xe7\xe3o\n    - Portas:\n        - 10100: servidor\n        - 43682: cliente\n    - Linhas 1a 3 in\xedcio da conex\xe3o\n        - 1 cliente envia segmento com a *flag* SYN ao servidor\n        - 2 servidor envia segmento com as *flags* SYN e ACK ao cliente\n        - 3 cliente envia segmento com a *flag* ACK ao servidor\n    - Linhas 4 e 5: envio dos dados\n        - 4:\n            - Cliente envia dados ao servidor\n            - 30 bytes de dados. Qual o tamanho da mensagem enviada?\n        - 5:\n            - Servidor envia ao cliente a confirma\xe7\xe3o do recebimento da mensagem\n    - Linhas 6 a 8: t\xe9rmino da conex\xe3o\n        - 6: cliente envia FIN e ACK\n        - 7: servidor envia FIN e ACK\n        - 8: cliente envia ACK\n")),(0,n.kt)("h3",{id:"observa\xe7\xe3o"},"Observa\xe7\xe3o"),(0,n.kt)("p",null,"Na execu\xe7\xe3o do exemplo, utilize diferentes n\xfameros de portas caso esteja utilizando um ambiente de execu\xe7\xe3o compartilhado."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Atividade"),"  "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Objetivo:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Observar os pacotes de in\xedcio de uma conex\xe3o TCP."))),(0,n.kt)("li",{parentName:"ul"},"Utilize o netcat (",(0,n.kt)("inlineCode",{parentName:"li"},"nc"),") e inicie e finalize uma conex\xe3o, sem enviar nenhum dado. Capture as informa\xe7\xf5es dessa conex\xe3o com o ",(0,n.kt)("inlineCode",{parentName:"li"},"tshark"),". Encerre a captura de pacotes antes de finalizar a conex\xe3o, para obter apenas os pacotes de in\xedcio da conex\xe3o.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Atividade"),"  "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Objetivo:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Capturar pacotes TCP e observar suas caracter\xedsticas."))),(0,n.kt)("li",{parentName:"ul"},"Navegue na internet, capturando pacotes. No ",(0,n.kt)("inlineCode",{parentName:"li"},"wireshark"),", observe os pacotes TCP, analizando:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Tamanho do pacote"),(0,n.kt)("li",{parentName:"ul"},"Tamanho do cabe\xe7alho"),(0,n.kt)("li",{parentName:"ul"},"Tamanho dos dados"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"Flags")),(0,n.kt)("li",{parentName:"ul"},"N\xfamero de sequ\xeancia do pacote."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Observa\xe7\xe3o"),": caso n\xe3o esteja dispon\xedvel um navegador ",(0,n.kt)("em",{parentName:"li"},"web")," gr\xe1fico, podem ser utilizados navegadores em modo texto, como o ",(0,n.kt)("inlineCode",{parentName:"li"},"links")," ou utilizando ferramentas como ",(0,n.kt)("inlineCode",{parentName:"li"},"wget")," e ",(0,n.kt)("inlineCode",{parentName:"li"},"curl"),".",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Exemplo",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"links http://www.pudim.com.br\nwget http://www.pudim.com.br\ncurl www.pudim.com.br\n")))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Atividade"),"  "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Objetivo:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Observar os pacotes de in\xedcio e fim de uma conex\xe3o TCP."))),(0,n.kt)("li",{parentName:"ul"},"Utilizando o ",(0,n.kt)("inlineCode",{parentName:"li"},"tshark"),", capture pacotes de uma conex\xe3o com o netcat, em que dados n\xe3o s\xe3o trocados, existe apenas in\xedcio e fim da conex\xe3o.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Atividade"),"  "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Objetivo:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Capturar pacotes TCP gerados e observar suas caracter\xedsticas."))),(0,n.kt)("li",{parentName:"ul"},"Utilizando o ",(0,n.kt)("inlineCode",{parentName:"li"},"tshark"),", capture pacotes de uma conex\xe3o netcat, em que uma \xfanica frase \xe9 enviada do cliente para o servidor.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Atividade"),"  "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Objetivo:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Capturar pacotes TCP gerados e observar suas caracter\xedsticas."))),(0,n.kt)("li",{parentName:"ul"},"Utilizando o ",(0,n.kt)("inlineCode",{parentName:"li"},"tshark"),", capture pacotes de uma conex\xe3o netcat, em que uma \xfanica frase \xe9 enviada do cliente para o servidor e uma frase \xe9 enviada do servidor para o cliente. Analise os pacotes.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Atividade"),"  "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Objetivo:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Observar a quebra de mensagens grandes em diversos segmentos TCP."))),(0,n.kt)("li",{parentName:"ul"},"Fa\xe7a v\xe1rias conex\xf5es com o netcat, enviando arquivos cada vez maiores. Compare a quantidade de pacotes TCP trafegados em cada conex\xe3o do netcat, e verifique a partir de qual tamanho de arquivo foi enviado mais de um pacote TCP para os dados.")),(0,n.kt)("p",null,"Uma forma de gerar arquivos de tamanho arbitr\xe1rio \xe9 utilizando o ",(0,n.kt)("inlineCode",{parentName:"p"},"dd"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"dd if=/dev/zero of=nomeArquivo.bin count=1 bs=512\n")),(0,n.kt)("p",null,"sintaxe:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"of"),": ",(0,n.kt)("em",{parentName:"li"},"output file"),", com nome do arquivo a ser gerado."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"bs"),": ",(0,n.kt)("em",{parentName:"li"},"block size"),", com o tamanho do arquivo, em bytes.")),(0,n.kt)("h4",{id:"exemplo-1"},"Exemplo"),(0,n.kt)("p",null,"Execute os comandos abaixo, em diferentes terminais  "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Terminal 1: servidor netcat",(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"nc -l 10100\nTerm"))),(0,n.kt)("li",{parentName:"ul"},"Terminal 2: tshark",(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"tshark -i lo port 10100"))),(0,n.kt)("li",{parentName:"ul"},"Terminal 3: netcat client",(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"dd if=/dev/zero count=1 bs=10M | nc localhost 10100")))),(0,n.kt)("h1",{id:"refer\xeancias"},"Refer\xeancias"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://plataforma.bvirtual.com.br/Leitor/Publicacao/3843/pdf/23?code=opaQM91XXDo3M6f51IIiU5X7T6DUUY4tnUbUN9g9xAn0nY6qeBM0WLTVwycNe9XtrqzhJL34gWxykS9MrPGJQA=="},"KUROSE, Jim; ROSS, Keith W. Redes de computadores e a internet: uma abordagem top-down. 6.ed. S\xe3o Paulo: Pearson, 2013. ISBN 9788581436777.")," (Link biblioteca online)  "),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://plataforma.bvirtual.com.br/Leitor/Publicacao/2610/pdf/17?code=vVkKzoXOaDOskeJv8esK3sZMysyPTg3HtAPyO3xsw/udBb1u+4g3HJxAzSb6zd3SV3dRGINqMpGo2TNJWfLQ8g=="},"TANENBAUM, Andrew S; WETHERAL, David. Redes de Computadores. 5.ed. S\xe3o Paulo: Pearson, 2011. ISBN 9788576059240."),"(Link biblioteca online)  "),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://www.wireshark.org/docs/man-pages/tshark.html"},"Tshark"),"  "),(0,n.kt)("h2",{id:"outras-refer\xeancias"},"Outras refer\xeancias"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://upload.wikimedia.org/wikipedia/commons/8/8a/Tcp-handshake.png"},"Wikimedia Commons. Three-way handshake."),(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("a",{parentName:"p",href:"https://commons.wikimedia.org/wiki/File:TCP_Protocol_Diagram.png"},"Wikimedia Commons. TCP Header."),(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("a",{parentName:"p",href:"https://egroupware.ufba.br/~romildo/downloads/ifba/transporte.pdf"},"BEZERRA, R. M. A camada de transporte. Notas de aula: Redes de computadores II. CEFET/BA, 2008"),(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("a",{parentName:"p",href:"https://wiki.wireshark.org/CaptureFilters"},"Wireshark. Capture filters."),(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=zY3Sxvj8kZA"},"TANVIR, K. TCP sliding window animation. Youtube, 2013"),(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("a",{parentName:"p",href:"https://www.ccs-labs.org/teaching/rn/animations/gbn_sr/"},"KESSLER, J. Selective Repeat/Go Back N. CCS Labs. Berlin, 2012"),(0,n.kt)("br",{parentName:"p"}),"\n",(0,n.kt)("a",{parentName:"p",href:"https://www.cnblogs.com/RDaneelOlivaw/p/9197152.html"},"OLIVA, D. Computer networking: transport layer.")))}c.isMDXComponent=!0}}]);