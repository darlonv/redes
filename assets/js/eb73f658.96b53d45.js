"use strict";(self.webpackChunkalgoritmos=self.webpackChunkalgoritmos||[]).push([[5555],{3905:(e,o,a)=>{a.d(o,{Zo:()=>l,kt:()=>P});var r=a(7294);function t(e,o,a){return o in e?Object.defineProperty(e,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[o]=a,e}function n(e,o){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?n(Object(a),!0).forEach((function(o){t(e,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(a,o))}))}return e}function d(e,o){if(null==e)return{};var a,r,t=function(e,o){if(null==e)return{};var a,r,t={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],o.indexOf(a)>=0||(t[a]=e[a]);return t}(e,o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],o.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}var s=r.createContext({}),c=function(e){var o=r.useContext(s),a=o;return e&&(a="function"==typeof e?e(o):i(i({},o),e)),a},l=function(e){var o=c(e.components);return r.createElement(s.Provider,{value:o},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var o=e.children;return r.createElement(r.Fragment,{},o)}},u=r.forwardRef((function(e,o){var a=e.components,t=e.mdxType,n=e.originalType,s=e.parentName,l=d(e,["components","mdxType","originalType","parentName"]),m=c(a),u=t,P=m["".concat(s,".").concat(u)]||m[u]||p[u]||n;return a?r.createElement(P,i(i({ref:o},l),{},{components:a})):r.createElement(P,i({ref:o},l))}));function P(e,o){var a=arguments,t=o&&o.mdxType;if("string"==typeof e||t){var n=a.length,i=new Array(n);i[0]=u;var d={};for(var s in o)hasOwnProperty.call(o,s)&&(d[s]=o[s]);d.originalType=e,d[m]="string"==typeof e?e:t,i[1]=d;for(var c=2;c<n;c++)i[c]=a[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},2221:(e,o,a)=>{a.d(o,{Z:()=>t});var r=a(7294);function t(e){let o,{bib:a,page:t,type:n,inline:i=!1,link:d=!1}=e,s={tanenbaum_2011_book:{cite:"TANENBAUM 2011",abnt:"TANENBAUM, A.S., Wetherall, D. Redes de Computadores. 5. ed. S\xe3o Paulo: Pearson do Brasil, 2011.",link:"https://plataforma.bvirtual.com.br/Acervo/Publicacao/2610"},kurose_2013_book:{cite:"KUROSE 2013",abnt:"KUROSE, Jim; ROSS, Keith W. Redes de computadores e a internet: uma abordagem top-down. 6.ed. S\xe3o Paulo: Pearson, 2013. ISBN 9788581436777.",link:"https://plataforma.bvirtual.com.br/Acervo/Publicacao/198909"},torres_2009_book:{cite:"TORRES 2009",abnt:"TORRES, G. Redes de Computadores. Rio de Janeiro: Novaterra, 2009. ISBN 978-85-61893-05-7."},stevens_1994_book:{cite:"STEVENS 1994",abnt:"STEVENS, W. R. TCP/IP Illustrated, Volume 1: The Protocols. Boston, USA: Addison-Wesley/Pearson Education, 1994. ISBN 0-201-63346-9."},rfc_791_site:{cite:"IETF 1981",abnt:"IETF. RFC 791: Internet Protocol. 1981.",link:"https://datatracker.ietf.org/doc/html/rfc791"},rfc_1058_site:{cite:"IETF 1988",abnt:"IETF. RFC 1058: Routing Information Protocol. 1988.",link:"https://datatracker.ietf.org/doc/html/rfc1058"},rfc_1131_site:{cite:"IETF 1989",abnt:"IETF. RFC 1131: The OSPF Specification. 1989.",link:"https://datatracker.ietf.org/doc/html/rfc1131"}};return n?(o=s[a][n],d&&(o=r.createElement("a",{href:s[a].link,target:"_blank"},o))):(o=t?s[a].cite+", pg. "+t:s[a].cite,i||(o="("+o+")"),d&&(o=r.createElement("a",{href:s[a].link,target:"_blank"},o))),r.createElement(r.Fragment,null,o)}},8477:(e,o,a)=>{a.r(o),a.d(o,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var r=a(7462),t=(a(7294),a(3905)),n=a(2221);const i={},d="DHCP",s={unversionedId:"Rede/DHCP",id:"Rede/DHCP",title:"DHCP",description:"O DHCP (Dinamic Host Configuration Protocol) \xe9 um protocolo de camada de aplica\xe7\xe3o, utilizado para atribui\xe7\xe3o de endere\xe7os IP a dispositivos ligados a uma rede de computadores. Utiliza o UDP como protocolo de camada de transporte, com as portas 67 e 68. Utiliza a arquitetura Cliente/Servidor, em que o cliente solicita um endere\xe7o IP a um Servidor, este respons\xe1vel por gerenciar e fornecer os endere\xe7os.",source:"@site/docs/05-Rede/07-DHCP.mdx",sourceDirName:"05-Rede",slug:"/Rede/DHCP",permalink:"/redes/docs/Rede/DHCP",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/05-Rede/07-DHCP.mdx",tags:[],version:"current",sidebarPosition:7,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"NAT",permalink:"/redes/docs/Rede/NAT"},next:{title:"ICMP",permalink:"/redes/docs/Rede/ICMP"}},c={},l=[{value:"Renova\xe7\xe3o do endere\xe7o",id:"renova\xe7\xe3o-do-endere\xe7o",level:2},{value:"Refer\xeancias",id:"refer\xeancias",level:2}],m={toc:l},p="wrapper";function u(e){let{components:o,...a}=e;return(0,t.kt)(p,(0,r.Z)({},m,a,{components:o,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"dhcp"},"DHCP"),(0,t.kt)("p",null,"O DHCP (",(0,t.kt)("em",{parentName:"p"},"Dinamic Host Configuration Protocol"),") \xe9 um protocolo de camada de aplica\xe7\xe3o, utilizado para atribui\xe7\xe3o de endere\xe7os IP a dispositivos ligados a uma rede de computadores. Utiliza o UDP como protocolo de camada de transporte, com as portas 67 e 68. Utiliza a arquitetura Cliente/Servidor, em que o cliente solicita um endere\xe7o IP a um Servidor, este respons\xe1vel por gerenciar e fornecer os endere\xe7os."),(0,t.kt)("p",null,"Com a utiliza\xe7\xe3o do DHCP, os ",(0,t.kt)("em",{parentName:"p"},"hosts")," podem solicitar a um servidor um IP para que configurem em suas m\xe1quinas. Este processo permite que a defini\xe7\xe3o dos IP's seja autom\xe1tica, simplificando o processo de configura\xe7\xe3o de endere\xe7os a dispositivos em uma rede."),(0,t.kt)("p",null,"Al\xe9m do endere\xe7o IP, outras informa\xe7\xf5es tamb\xe9m podem ser obtidas utilizando este protocolo. Dados como m\xe1scara de sub-rede, ",(0,t.kt)("em",{parentName:"p"},"gateway")," padr\xe3o e servidores DNS. Utilizando estes dados \xe9 possivel que m\xe1quina tenha plena funcionalidade a acessos b\xe1sicos \xe0 rede."),(0,t.kt)("p",null,"O processo de libera\xe7\xe3o de um endere\xe7o IP utilizando o DHCP segue as seguintes etapas:"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"Descoberta ",(0,t.kt)("inlineCode",{parentName:"li"},"DHCP Discover")," (",(0,t.kt)("em",{parentName:"li"},"Discover"),"):  o cliente DHCP envia uma mensagem de descoberta para encontrar servidores DHCP dispon\xedveis na rede. Essa mensagem \xe9 normalmente um pacote de ",(0,t.kt)("em",{parentName:"li"},"broadcast")," (endere\xe7o IP de destino 255.255.255.255) que \xe9 enviado em uma rede local. O objetivo \xe9 permitir que o cliente encontre um servidor DHCP e solicite um endere\xe7o IP. Caso n\xe3o haja um servidor DHCP na rede, o roteador da rede pode ser configurado para repassar este pacote para o servidor ",(0,t.kt)(n.Z,{bib:"tanenbaum_2011_book",page:"294",mdxType:"Bib"}),"."),(0,t.kt)("li",{parentName:"ol"},"Oferta - ",(0,t.kt)("inlineCode",{parentName:"li"},"DHCP Offer")," (",(0,t.kt)("em",{parentName:"li"},"Offer"),"): Nesta fase, o servidor DHCP recebe a mensagem de descoberta e respondem com uma oferta de endere\xe7o IP dispon\xedvel. Cada servidor DHCP que recebe a mensagem de descoberta pode responder com uma oferta contendo informa\xe7\xf5es de configura\xe7\xe3o, como o endere\xe7o IP proposto, a m\xe1scara de sub-rede, o ",(0,t.kt)("em",{parentName:"li"},"gateway")," padr\xe3o, os servidores DNS e outros par\xe2metros de rede. O cliente DHCP pode receber v\xe1rias ofertas de diferentes servidores DHCP."),(0,t.kt)("li",{parentName:"ol"},"Solicita\xe7\xe3o ",(0,t.kt)("inlineCode",{parentName:"li"},"DHCP Request")," (",(0,t.kt)("em",{parentName:"li"},"Request"),"): Ap\xf3s receber as ofertas de diferentes servidores DHCP, o cliente DHCP seleciona uma oferta espec\xedfica e envia uma solicita\xe7\xe3o ao servidor escolhido. A solicita\xe7\xe3o informa qual oferta o cliente aceitou. Isso \xe9 feito para evitar conflitos de endere\xe7os IP. A solicita\xe7\xe3o \xe9 enviada por ",(0,t.kt)("em",{parentName:"li"},"broadcast")," para que todos os servidores DHCP saibam que a oferta foi aceita."),(0,t.kt)("li",{parentName:"ol"},"Concess\xe3o ",(0,t.kt)("inlineCode",{parentName:"li"},"DHCP ACK")," (",(0,t.kt)("em",{parentName:"li"},"Acknowledgement"),"): Nesta \xfaltima fase, o servidor DHCP que recebeu a solicita\xe7\xe3o envia uma mensagem de confirma\xe7\xe3o (conhecida como ACK) ao cliente DHCP. Essa mensagem confirma a atribui\xe7\xe3o do endere\xe7o IP e quaisquer outras informa\xe7\xf5es de configura\xe7\xe3o. Al\xe9m disso, tamb\xe9m informa ao cliente DHCP o tempo de validade do endere\xe7o IP atribu\xeddo. O cliente, ent\xe3o, configura seu endere\xe7o IP de acordo com as informa\xe7\xf5es recebidas na mensagem de confirma\xe7\xe3o.")),(0,t.kt)("mermaid",{value:"sequenceDiagram\n    participant Cliente DHCP\n    participant Servidor DHCP\n\n    Note over Cliente DHCP: Conecta \xe0 rede\n    Cliente DHCP->>Servidor DHCP: DHCP Discover\n    Note over Servidor DHCP: Recebe solicita\xe7\xe3o DHCP\n    Servidor DHCP--\x3e>Cliente DHCP: DHCP Offer\n    Note over Cliente DHCP: Seleciona oferta\n    Cliente DHCP->>Servidor DHCP: DHCP Request\n    Note over Servidor DHCP: Confirma\xe7\xe3o da concess\xe3o\n    Servidor DHCP--\x3e>Cliente DHCP: DHCP Acknowledgement\n    Note over Cliente DHCP: Configura\xe7\xe3o do endere\xe7o IP"}),(0,t.kt)("p",null,"Al\xe9m dos pacotes ",(0,t.kt)("inlineCode",{parentName:"p"},"DHCP DISCOVER"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"DHCP OFFER"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"DHCP Request")," e ",(0,t.kt)("inlineCode",{parentName:"p"},"DHCP ACK"),", tamb\xe9m h\xe1 outros pacotes, como:"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Reconhecimento negativo - ",(0,t.kt)("inlineCode",{parentName:"p"},"DHCP NACK")," (",(0,t.kt)("em",{parentName:"p"},"Negative Acknowledgment"),"): \xe9 enviado pelo servidor DHCP quando ele n\xe3o pode atender \xe0 solicita\xe7\xe3o do cliente DHCP ou quando ocorre um erro na solicita\xe7\xe3o. Essa nega\xe7\xe3o pode ocorrer se o endere\xe7o IP solicitado estiver indispon\xedvel ou se houver um conflito de endere\xe7o. O ",(0,t.kt)("inlineCode",{parentName:"p"},"DHCP NAK")," notifica o cliente de que sua solicita\xe7\xe3o foi negada, solicitando que ele reinicie o processo de obten\xe7\xe3o de endere\xe7o IP.")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Rejei\xe7\xe3o - ",(0,t.kt)("inlineCode",{parentName:"p"},"DHCP DECLINE")," (",(0,t.kt)("em",{parentName:"p"},"Decline"),"): \xe9 enviado pelo cliente DHCP para informar ao servidor DHCP que ele rejeita a oferta recebida. Isso pode ocorrer se o cliente j\xe1 estiver usando o endere\xe7o IP oferecido ou se houver algum problema com a oferta recebida, como conflito de endere\xe7os. Ao receber o ",(0,t.kt)("inlineCode",{parentName:"p"},"DHCP DECLINE"),", o servidor DHCP pode tentar fazer uma nova oferta ao cliente.")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Libera\xe7\xe3o - ",(0,t.kt)("inlineCode",{parentName:"p"},"DHCP RELEASE")," (",(0,t.kt)("em",{parentName:"p"},"Release"),"): O pacote DHCPRELEASE \xe9 enviado pelo cliente DHCP para liberar um endere\xe7o IP atribu\xeddo anteriormente. Isso geralmente acontece quando o cliente n\xe3o precisa mais do endere\xe7o IP, est\xe1 saindo da rede ou deseja devolv\xea-lo ao servidor DHCP para que possa ser atribu\xeddo a outro cliente. O DHCPRELEASE permite que o servidor DHCP reutilize o endere\xe7o IP liberado.")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Informa\xe7\xe3o - ",(0,t.kt)("inlineCode",{parentName:"p"},"DHCP INFORM")," (",(0,t.kt)("em",{parentName:"p"},"Information"),"): \xe9 enviado pelo cliente DHCP para obter informa\xe7\xf5es adicionais de configura\xe7\xe3o, mesmo quando ele j\xe1 possui um endere\xe7o IP v\xe1lido. Esse pacote \xe9 usado pelo cliente para solicitar informa\xe7\xf5es como servidores DNS, servidores de tempo, servidores WINS, etc., sem solicitar um novo endere\xe7o IP. O servidor DHCP responde com um pacote DHCPACK contendo as informa\xe7\xf5es solicitadas."))),(0,t.kt)("h2",{id:"renova\xe7\xe3o-do-endere\xe7o"},"Renova\xe7\xe3o do endere\xe7o"),(0,t.kt)("p",null,"Periodicamente, a m\xe1quina deve solicitar para que o seu endere\xe7o IP seja renovado. Este processo de renova\xe7\xe3o ocorre da seguinte maneira:"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Solicita\xe7\xe3o de renova\xe7\xe3o: Antes do t\xe9rmino do tempo de concess\xe3o do endere\xe7o IP atribu\xeddo, o cliente DHCP (geralmente um dispositivo de rede, como um computador ou roteador) envia uma solicita\xe7\xe3o de renova\xe7\xe3o ao servidor DHCP que originalmente concedeu o endere\xe7o IP. A solicita\xe7\xe3o de renova\xe7\xe3o \xe9 enviada como um pacote DHCPREQUEST.")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Resposta do servidor DHCP: O servidor DHCP recebe a solicita\xe7\xe3o de renova\xe7\xe3o e verifica se o endere\xe7o IP solicitado ainda est\xe1 dispon\xedvel. Se o endere\xe7o ainda estiver v\xe1lido, o servidor DHCP responde com um pacote DHCPACK (",(0,t.kt)("em",{parentName:"p"},"ACKnowledgment"),"), confirmando a renova\xe7\xe3o do endere\xe7o IP.")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Atualiza\xe7\xe3o do tempo de concess\xe3o: O cliente DHCP recebe o pacote DHCPACK e atualiza o tempo de concess\xe3o do endere\xe7o IP. O cliente tamb\xe9m atualiza qualquer outra informa\xe7\xe3o relevante recebida no pacote DHCPACK, como a configura\xe7\xe3o de DNS, ",(0,t.kt)("em",{parentName:"p"},"gateway")," padr\xe3o e outros par\xe2metros de rede."))),(0,t.kt)("mermaid",{value:"sequenceDiagram\n    participant Cliente DHCP\n    participant Servidor DHCP\n\n    \n    Cliente DHCP->>Servidor DHCP: Solicita\xe7\xe3o de renova\xe7\xe3o (DHCP REQUEST)\n    Servidor DHCP--\x3e>Cliente DHCP: Resposta de renova\xe7\xe3o (DHCP ACK)\n    Note over Cliente DHCP: Atualiza\xe7\xe3o do tempo de concess\xe3o"}),(0,t.kt)("admonition",{type:"caution"},(0,t.kt)("p",{parentName:"admonition"},"\xc9 importante ressaltar que, se o servidor DHCP n\xe3o receber a solicita\xe7\xe3o de renova\xe7\xe3o antes do t\xe9rmino do tempo de concess\xe3o, o endere\xe7o IP pode ser considerado n\xe3o utilizado e pode ser atribu\xeddo a outro cliente que esteja solicitando um endere\xe7o IP.")),(0,t.kt)("p",null,"Esse processo de renova\xe7\xe3o de tempo \xe9 repetido periodicamente enquanto o dispositivo estiver conectado \xe0 rede e precisar manter o endere\xe7o IP atribu\xeddo a ele. Caso o cliente n\xe3o possa renovar o endere\xe7o IP, ele precisar\xe1 solicitar um novo endere\xe7o IP por meio do processo DHCP de descoberta inicial."),(0,t.kt)("h2",{id:"refer\xeancias"},"Refer\xeancias"),(0,t.kt)("p",null,"TANENBAUM, A.S., Wetherall, D. Redes de Computadores. 5. ed. S\xe3o Paulo: Pearson do Brasil, 2013."),(0,t.kt)(n.Z,{bib:"tanenbaum_2011_book",type:"abnt",mdxType:"Bib"}),(0,t.kt)("br",null),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"Outros materiais"),(0,t.kt)("br",{parentName:"p"}),"\n",(0,t.kt)("a",{parentName:"p",href:"https://support.huawei.com/enterprise/en/doc/EDOC1100112351/4b2f29de/how-a-dhcp-client-renews-its-ip-address-lease"}),(0,t.kt)("br",{parentName:"p"}),"\n",(0,t.kt)("a",{parentName:"p",href:"http://www.tcpipguide.com/free/t_DHCPLeaseRenewalandRebindingProcesses-2.htm"},"KOZIEROK, C.M. The TCP/IP Guide. ",(0,t.kt)("em",{parentName:"a"},"DHCP Renewal and Rebinding Process"),".")))}u.isMDXComponent=!0}}]);